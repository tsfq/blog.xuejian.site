<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>随笔</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="记录一下"/>
<meta name="keywords" content="记录一下"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://blog.xuejian.site/favicon.ico">

<link rel="stylesheet" href="https://blog.xuejian.site/styles/main.css">

<!-- Modernizr JS -->
<script src="https://blog.xuejian.site/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://blog.xuejian.site/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">


    <!-- 百度统计 -->
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?89466b86f6147cdae96430908cc2e258";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://blog.xuejian.site/images/avatar.png" alt="随笔"
                 class="img-responsive">
        </figure>
        <a href="https://blog.xuejian.site/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>随笔</h2>
        <p>记录一下</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- 标签 -->
        <div class="fh5co-box">
            <a href="https://blog.xuejian.site/tags/"><h3 class="heading">👉标签</h3></a>
            <ul>
                
                    <li><a href="https://blog.xuejian.site/tag/0fquGaUY6/">技术</a></li>
                
                    <li><a href="https://blog.xuejian.site/tag/gneutUQCx/">生活</a></li>
                
                    <li><a href="https://blog.xuejian.site/tag/2qhZxPsCU/">优惠</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            标签
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://blog.xuejian.site">随笔 </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>👈 Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next 👉</span></a>-->

    <!-- 等gridea出自定义页面功能再优化一下 -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
                    <img src="https://wz-1255445901.file.myqcloud.com/2019/07/20190709192817.png" alt="旧电脑改造下载机" class="img-responsive">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
                    <div class="tag-container">
                        
                            <a href="https://blog.xuejian.site/tag/0fquGaUY6/" class="tag">技术, </a>
                        
                    </div>
                
            </span>
            <h2 class="fh5co-article-title animate-box">旧电脑改造下载机</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2019-07-09</li>
                <li>1397字</li>
                <li>7 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <p><font size=3>1、安装深度Linux，安装教程可以直接参考deepin官方教程：<a href="https://www.deepin.org/installation/" title="deepin安装教程">deepin安装教程</a> ；</p>
<p><font size=3>2、打开终端，输入以下命令：</p>
<pre><code class="language-shell">sudo apt install aria2
</code></pre>
<p><font size=3>3、建立aria2的配置文件夹并进入：</p>
<pre><code class="language-shell">mkdir -p /home/tsfq/conf/
cd /home/tsfq/conf
</code></pre>
<p><font size=3>4、用vi命令建立aria2.conf配置文件，这部分参考<a href="https://blog.icehoney.me/posts/2015-01-31-Aria2-download" title="雪月秋水(acgotaku)">雪月秋水(acgotaku)</a>：</p>
<pre><code class="language-shell"># 启用RPC, 默认:false
enable-rpc=true
# 允许所有来源, 默认:false
rpc-allow-origin-all=true
# 允许非外部访问, 默认:false
rpc-listen-all=true
# 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同
#event-poll=select
# RPC监听端口, 端口被占用时可以修改, 默认:6800
rpc-listen-port=6800
# 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项,该密码自己设定
rpc-secret=test
# 设置的RPC访问用户名, 此选项新版已废弃, 建议改用 --rpc-secret 选项
#rpc-user=admin
# 设置的RPC访问密码, 此选项新版已废弃, 建议改用 --rpc-secret 选项
#rpc-passwd=admin
## 文件保存相关 ##

# 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置
dir=/home/tsfq/Downloads
# 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M
disk-cache=32M
# 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc
# falloc和trunc则需要文件系统和内核支持
# NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项
file-allocation=none
#无文件分配限制
no-file-allocation-limit=10M
#允许覆盖
allow-overwrite=false
#自动文件重命名
auto-file-renaming=true
# 断点续传
continue=true

## 下载连接相关 ##
# 较新的版本开启后会在任务完成后依然保留.aria2文件
ftp-pasv=true
#设置FTP传输类型。类型是二进制或ASCII
ftp-type=binary
#设置超时时间
timeout=120
#连接超时时间, 超过60秒还没成功的,就算连接失败
connect-timeout=60
# 最大同时下载任务数, 运行时可修改, 默认:5
max-concurrent-downloads=10
# 同一服务器连接数, 添加时可指定, 默认:1
max-connection-per-server=5
# 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M
# 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载
min-split-size=10M
# 单个任务最大线程数, 添加时可指定, 默认:5
split=5
# 整体下载速度限制, 运行时可修改, 默认:0
max-overall-download-limit=8388608
# 单个任务下载速度限制, 默认:0
max-download-limit=8388608
# 整体上传速度限制, 运行时可修改, 默认:5M
max-overall-upload-limit=204800
# 单个任务上传速度限制, 默认:0
max-upload-limit=204800
# 禁用IPv6, 默认:false
disable-ipv6=true
# 禁用https证书检查
check-certificate=false

# 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0
save-session-interval=60


## BT/PT下载相关 ##

# 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true
#follow-torrent=true
# BT监听端口, 当端口被屏蔽时使用, 默认:6881-6999
#listen-port=16888
# 单个种子最大连接数, 默认:55
bt-max-peers=55
bt-max-open-files=100
# 打开DHT功能, PT需要禁用, 默认:true
enable-dht=true
# 打开IPv6 DHT功能, PT需要禁用
#enable-dht6=false
# DHT网络监听端口, 默认:6881-6999
#dht-listen-port=6888
# 本地节点查找, PT需要禁用, 默认:false
bt-enable-lpd=false
# 种子交换, PT需要禁用, 默认:true
enable-peer-exchange=false
# 每个种子限速, 对少种的PT很有用, 默认:50K
bt-request-peer-speed-limit=50K
#设置超时时间,没有速度后一段时间任务就自动停止
bt-stop-timeout=0
# 客户端伪装, PT需要
peer-id-prefix=-TR2770-
user-agent=Transmission/2.77
# 当种子的分享率达到这个数时, 自动停止做种, 0为一直做种, 默认:1.0
seed-ratio=0.1
# 强制保存会话, 即使任务已经完成, 默认:false
# 较新的版本开启后会在任务完成后依然保留.aria2文件
#force-save=false
# BT校验相关, 默认:true
#bt-hash-check-seed=true
# 继续之前的BT任务时, 无需再次校验, 默认:false
bt-seed-unverified=true
# 保存磁力链接元数据为种子文件(.torrent文件), 默认:false
bt-save-metadata=true


### Log
log=/home/tsfq/conf/aria2.log
log-level=notice

bt-tracker=http://tracker.internetwarriors.net:1337/announce,http://explodie.org:6969/announce,http://tracker2.itzmx.com:6961/announce,http://tracker4.itzmx.com:2710/announce,http://tracker3.itzmx.com:6961/announce,http://tracker1.itzmx.com:8080/announce,http://open.acgnxtracker.com:80/announce,http://tracker.port443.xyz:6969/announce,http://0d.kebhana.mx:443/announce,http://torrent.nwps.ws:80/announce,http://opentracker.xyz:80/announce,http://open.trackerlist.xyz:80/announce,http://tracker.novg.net:6969/announce,http://torrentclub.tech:6969/announce,http://t.nyaatracker.com:80/announce,http://retracker.mgts.by:80/announce,http://open.acgtracker.com:1096/announce,http://tracker.torrentyorg.pl:80/announce,http://tracker.tfile.me:80/announce.php,http://tracker.open-tracker.org:1337/announce,http://tracker.gbitt.info:80/announce,http://peersteers.org:80/announce

</code></pre>
<p><font size=3>5、使用以下命令开启aria2：</p>
<pre><code class="language-shell">aria2c --conf-path=/home/tsfq/conf/aria2.conf &gt; /dev/null &amp;
</code></pre>
<p><font size=3>6、打开WEB控制页：<a href="http://ariang.xuejian.site">http://ariang.xuejian.site</a> ，在ariang的设置中，第一部分填入内网IP，第二部分选择websocket，然后选择激活，并可以在同一网络下使用；</p>
<figure data-type="image" tabindex="1"><img src="https://wz-1255445901.file.myqcloud.com/2019/07/20190709185650.png" alt="" loading="lazy"></figure>
<p><font size=3>7、为了提供外网远程操作aria2，需要进行内网穿透，打开<a href="ngrok.cc">ngrok.cc</a>，注册后按步骤开始进行隧道开通</p>
<figure data-type="image" tabindex="2"><img src="https://wz-1255445901.file.myqcloud.com/2019/07/20190709190306.png" alt="" loading="lazy"></figure>
<p><font size=3>8、协议选择TCP，远程端口随便填一个，如果被占用会有提示，本地端口使用6800，完成后点击添加</p>
<figure data-type="image" tabindex="3"><img src="https://wz-1255445901.file.myqcloud.com/2019/07/20190709190502.png" alt="" loading="lazy"></figure>
<p><font size=3>9、完成操作后的使用方法：<a href="http://ngrok.cc/_book/start/ngrok_linux.html" title="ngrok使用方法">ngrok使用方法</a></p>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">下一篇</div>
                                <a href="https://blog.xuejian.site/post/azure-dui-deng-wang-luo-she-zhi/">
                                    <h3 class="post-title">
                                        azure对等网络设置
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- 返回顶部 -->
    <div class="back-to-top">
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    
</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></p>
</footer>


    <!-- jQuery -->
<script src="https://blog.xuejian.site/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://blog.xuejian.site/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://blog.xuejian.site/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://blog.xuejian.site/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://blog.xuejian.site/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://blog.xuejian.site/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://blog.xuejian.site/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // 代码高亮
    hljs.initHighlightingOnLoad();

    // img 懒加载
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // 懒加载动画
            threshold: 180  // 在图片距离屏幕180px时提前载入
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // 目录
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
        var allImg = $("img");
        allImg.on("contextmenu", function () {
            return false;
        });
        allImg.on("dragstart", function () {
            return false;
        });
    
</script>




</body>
</html>
